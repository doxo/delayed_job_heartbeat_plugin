# Logfile created on 2019-10-14 12:06:22 -0700 by logger.rb/31641
D, [2019-10-14T12:06:22.858832 #20841] DEBUG -- :   [1m[36m (23.7ms)[0m  [1mCREATE TABLE "delayed_jobs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "priority" integer DEFAULT 0, "attempts" integer DEFAULT 0, "handler" text, "last_error" text, "run_at" datetime, "locked_at" datetime, "failed_at" datetime, "locked_by" varchar, "queue" varchar, "created_at" datetime, "updated_at" datetime) [0m
D, [2019-10-14T12:06:22.868279 #20841] DEBUG -- :   [1m[35m (8.8ms)[0m  CREATE TABLE "delayed_workers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "version" varchar, "last_heartbeat_at" datetime, "host_name" varchar, "label" varchar) 
D, [2019-10-14T12:06:22.879336 #20841] DEBUG -- :   [1m[36m (8.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
D, [2019-10-14T12:06:22.879585 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  select sqlite_version(*)
D, [2019-10-14T12:06:22.887416 #20841] DEBUG -- :   [1m[36m (7.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
D, [2019-10-14T12:06:22.887843 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
D, [2019-10-14T12:06:22.895315 #20841] DEBUG -- :   [1m[36m (7.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('0')[0m
D, [2019-10-14T12:06:22.995097 #20841] DEBUG -- :   [1m[35m (12.1ms)[0m  DELETE FROM "delayed_jobs";
D, [2019-10-14T12:06:22.995286 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
D, [2019-10-14T12:06:22.995409 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  DELETE FROM sqlite_sequence where name = 'delayed_jobs';
D, [2019-10-14T12:06:23.004584 #20841] DEBUG -- :   [1m[36m (9.1ms)[0m  [1mDELETE FROM "delayed_workers";[0m
D, [2019-10-14T12:06:23.016852 #20841] DEBUG -- :   [1m[35m (12.2ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
D, [2019-10-14T12:06:23.017007 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'delayed_workers';[0m
D, [2019-10-14T12:06:23.017785 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.017884 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.017998 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.022316 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.024897 #20841] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.023992"], ["host_name", "mikejnuc"], ["label", "my-worker"]]
D, [2019-10-14T12:06:23.025215 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.032654 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.033720 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.032867"], ["created_at", "2019-10-14 19:06:23.032958"], ["updated_at", "2019-10-14 19:06:23.032958"]]
D, [2019-10-14T12:06:23.034067 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.035132 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.035828 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.035928 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.036031 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.036346 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.037208 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.036516"], ["host_name", "mikejnuc"], ["label", "my-worker"]]
D, [2019-10-14T12:06:23.037488 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.037913 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.038643 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.038031"], ["created_at", "2019-10-14 19:06:23.038094"], ["updated_at", "2019-10-14 19:06:23.038094"]]
D, [2019-10-14T12:06:23.038959 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.039182 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.039777 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-other-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.039295"], ["host_name", "mikejnuc"], ["label", "my-other-worker"]]
D, [2019-10-14T12:06:23.040029 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.040335 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.040937 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.040425"], ["created_at", "2019-10-14 19:06:23.040475"], ["updated_at", "2019-10-14 19:06:23.040475"]]
D, [2019-10-14T12:06:23.041231 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.043056 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.043579 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.043684 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.043792 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.044110 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.044957 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.044267"], ["host_name", "mikejnuc"], ["label", "my-worker"]]
D, [2019-10-14T12:06:23.045234 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.045651 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.046371 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.045766"], ["created_at", "2019-10-14 19:06:23.045830"], ["updated_at", "2019-10-14 19:06:23.045830"]]
D, [2019-10-14T12:06:23.046684 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.046904 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.047483 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-other-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.047016"], ["host_name", "mikejnuc"], ["label", "my-other-worker"]]
D, [2019-10-14T12:06:23.047772 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.048083 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.048686 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.048172"], ["created_at", "2019-10-14 19:06:23.048222"], ["updated_at", "2019-10-14 19:06:23.048222"]]
D, [2019-10-14T12:06:23.048985 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.049341 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.049982 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.050073 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.050171 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.050397 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.051048 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.050517"], ["host_name", "mikejnuc"], ["label", "my-worker"]]
D, [2019-10-14T12:06:23.051306 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.051627 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.052310 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("handler", "locked_by", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["handler", "--- !ruby/object:TestJob {}\n"], ["locked_by", "my-worker"], ["run_at", "2019-10-14 19:06:23.051740"], ["created_at", "2019-10-14 19:06:23.051793"], ["updated_at", "2019-10-14 19:06:23.051793"]]
D, [2019-10-14T12:06:23.052610 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.053865 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.054473 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.054573 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.054676 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.055010 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.055909 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "my-worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.055178"], ["host_name", "mikejnuc"], ["label", "my-worker"]]
D, [2019-10-14T12:06:23.056195 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.056426 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.074403 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.075420 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["locked_by", "Test Worker"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.074576"], ["created_at", "2019-10-14 19:06:23.074655"], ["updated_at", "2019-10-14 19:06:23.074655"]]
D, [2019-10-14T12:06:23.088264 #20841] DEBUG -- :   [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.088488 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  begin transaction
D, [2019-10-14T12:06:23.091299 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."name" = ?[0m  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.092478 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "Test Worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.091752"], ["host_name", "mikejnuc"], ["label", "Test Worker"]]
D, [2019-10-14T12:06:23.101909 #20841] DEBUG -- :   [1m[36m (9.1ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.116199 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.2ms)[0m  SELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."name" = ?  ORDER BY "delayed_workers"."id" ASC LIMIT 1  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.130084 #20841] DEBUG -- :   [1m[36mSQL (9.1ms)[0m  [1mUPDATE "delayed_workers" SET "last_heartbeat_at" = '2019-10-14 19:06:23.120016' WHERE "delayed_workers"."id" = ?[0m  [["id", 1]]
D, [2019-10-14T12:06:23.139933 #20841] DEBUG -- :   [1m[35mSQL (9.0ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = ?  [["id", 1]]
D, [2019-10-14T12:06:23.147262 #20841] DEBUG -- :   [1m[36m (7.0ms)[0m  [1mDELETE FROM "delayed_jobs";[0m
D, [2019-10-14T12:06:23.147483 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
D, [2019-10-14T12:06:23.156804 #20841] DEBUG -- :   [1m[36m (9.2ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'delayed_jobs';[0m
D, [2019-10-14T12:06:23.166030 #20841] DEBUG -- :   [1m[35m (9.1ms)[0m  DELETE FROM "delayed_workers";
D, [2019-10-14T12:06:23.166202 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
D, [2019-10-14T12:06:23.174869 #20841] DEBUG -- :   [1m[35m (8.6ms)[0m  DELETE FROM sqlite_sequence where name = 'delayed_workers';
D, [2019-10-14T12:06:23.176327 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.177282 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["locked_by", "Test Worker"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.176490"], ["created_at", "2019-10-14 19:06:23.176568"], ["updated_at", "2019-10-14 19:06:23.176568"]]
D, [2019-10-14T12:06:23.186807 #20841] DEBUG -- :   [1m[36m (9.2ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.186956 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.187379 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."name" = ?[0m  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.188326 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "Test Worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.187697"], ["host_name", "mikejnuc"], ["label", "Test Worker"]]
D, [2019-10-14T12:06:23.195809 #20841] DEBUG -- :   [1m[36m (7.2ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.196931 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."name" = ?  ORDER BY "delayed_workers"."id" ASC LIMIT 1  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.197645 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1[0m  [["id", 1]]
D, [2019-10-14T12:06:23.199263 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.0ms)[0m  SELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.207144 #20841] DEBUG -- :   [1m[36mSQL (7.2ms)[0m  [1mUPDATE "delayed_workers" SET "last_heartbeat_at" = '2019-10-14 19:06:23.199434' WHERE "delayed_workers"."id" = ?[0m  [["id", 1]]
D, [2019-10-14T12:06:23.207931 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.218194 #20841] DEBUG -- :   [1m[36mSQL (9.6ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = ?[0m  [["id", 1]]
D, [2019-10-14T12:06:23.230434 #20841] DEBUG -- :   [1m[35m (11.8ms)[0m  DELETE FROM "delayed_jobs";
D, [2019-10-14T12:06:23.230710 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
D, [2019-10-14T12:06:23.239791 #20841] DEBUG -- :   [1m[35m (9.0ms)[0m  DELETE FROM sqlite_sequence where name = 'delayed_jobs';
D, [2019-10-14T12:06:23.247266 #20841] DEBUG -- :   [1m[36m (7.3ms)[0m  [1mDELETE FROM "delayed_workers";[0m
D, [2019-10-14T12:06:23.247473 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
D, [2019-10-14T12:06:23.257004 #20841] DEBUG -- :   [1m[36m (9.4ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'delayed_workers';[0m
D, [2019-10-14T12:06:23.258622 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  begin transaction
D, [2019-10-14T12:06:23.259581 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["locked_by", "Test Worker"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.258786"], ["created_at", "2019-10-14 19:06:23.258863"], ["updated_at", "2019-10-14 19:06:23.258863"]]
D, [2019-10-14T12:06:23.267063 #20841] DEBUG -- :   [1m[35m (7.1ms)[0m  commit transaction
D, [2019-10-14T12:06:23.267266 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.267748 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."name" = ?  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.268724 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "Test Worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.268086"], ["host_name", "mikejnuc"], ["label", "Test Worker"]]
D, [2019-10-14T12:06:23.278173 #20841] DEBUG -- :   [1m[35m (9.2ms)[0m  commit transaction
D, [2019-10-14T12:06:23.279506 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."name" = ?  ORDER BY "delayed_workers"."id" ASC LIMIT 1[0m  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.280072 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.280947 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["locked_by", "Test Worker"], ["locked_at", "2019-10-14 19:06:23.279725"], ["run_at", "2019-10-14 19:06:23.280218"], ["created_at", "2019-10-14 19:06:23.280290"], ["updated_at", "2019-10-14 19:06:23.280290"]]
D, [2019-10-14T12:06:23.290346 #20841] DEBUG -- :   [1m[35m (9.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.300448 #20841] DEBUG -- :   [1m[36mSQL (9.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = ?[0m  [["id", 1]]
D, [2019-10-14T12:06:23.301140 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT  "delayed_workers".* FROM "delayed_workers" WHERE "delayed_workers"."name" = ?  ORDER BY "delayed_workers"."id" ASC LIMIT 1  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.309885 #20841] DEBUG -- :   [1m[36m (8.5ms)[0m  [1mDELETE FROM "delayed_jobs";[0m
D, [2019-10-14T12:06:23.310044 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
D, [2019-10-14T12:06:23.318697 #20841] DEBUG -- :   [1m[36m (8.6ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'delayed_jobs';[0m
D, [2019-10-14T12:06:23.327488 #20841] DEBUG -- :   [1m[35m (8.7ms)[0m  DELETE FROM "delayed_workers";
D, [2019-10-14T12:06:23.327629 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
D, [2019-10-14T12:06:23.334719 #20841] DEBUG -- :   [1m[35m (7.0ms)[0m  DELETE FROM sqlite_sequence where name = 'delayed_workers';
D, [2019-10-14T12:06:23.336336 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.337297 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["locked_by", "Test Worker"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.336503"], ["created_at", "2019-10-14 19:06:23.336582"], ["updated_at", "2019-10-14 19:06:23.336582"]]
D, [2019-10-14T12:06:23.346433 #20841] DEBUG -- :   [1m[36m (8.8ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.346613 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  begin transaction
D, [2019-10-14T12:06:23.347049 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."name" = ?[0m  [["name", "Test Worker"]]
D, [2019-10-14T12:06:23.347991 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "Test Worker"], ["last_heartbeat_at", "2019-10-14 19:06:23.347355"], ["host_name", "mikejnuc"], ["label", "Test Worker"]]
D, [2019-10-14T12:06:23.354810 #20841] DEBUG -- :   [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.357463 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.2ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  ORDER BY "delayed_jobs"."id" ASC LIMIT 1  [["locked_by", "Test Worker"]]
D, [2019-10-14T12:06:23.367432 #20841] DEBUG -- :   [1m[36mSQL (9.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = ?[0m  [["id", 1]]
D, [2019-10-14T12:06:23.377473 #20841] DEBUG -- :   [1m[35m (8.7ms)[0m  DELETE FROM "delayed_jobs";
D, [2019-10-14T12:06:23.377666 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
D, [2019-10-14T12:06:23.386439 #20841] DEBUG -- :   [1m[35m (8.7ms)[0m  DELETE FROM sqlite_sequence where name = 'delayed_jobs';
D, [2019-10-14T12:06:23.395186 #20841] DEBUG -- :   [1m[36m (8.7ms)[0m  [1mDELETE FROM "delayed_workers";[0m
D, [2019-10-14T12:06:23.395323 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  SELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';
D, [2019-10-14T12:06:23.404243 #20841] DEBUG -- :   [1m[36m (8.8ms)[0m  [1mDELETE FROM sqlite_sequence where name = 'delayed_workers';[0m
D, [2019-10-14T12:06:23.405574 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  begin transaction
D, [2019-10-14T12:06:23.405689 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.405808 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.406200 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.407147 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.406376"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.407447 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.407944 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.421721 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.406376"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.408066"], ["created_at", "2019-10-14 19:06:23.408132"], ["updated_at", "2019-10-14 19:06:23.408132"]]
D, [2019-10-14T12:06:23.422381 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.422764 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.423601 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.422932"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.423882 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.424315 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.425062 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.422932"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.424434"], ["created_at", "2019-10-14 19:06:23.424499"], ["updated_at", "2019-10-14 19:06:23.424499"]]
D, [2019-10-14T12:06:23.425383 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.425619 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.425942 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')
D, [2019-10-14T12:06:23.426485 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.1ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.426958 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2
D, [2019-10-14T12:06:23.427299 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.427392 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.427866 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.1ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.428222 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.428808 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.428902 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.429007 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.429278 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.429979 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.429412"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.430248 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.430636 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.431345 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.429412"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.430738"], ["created_at", "2019-10-14 19:06:23.430795"], ["updated_at", "2019-10-14 19:06:23.430795"]]
D, [2019-10-14T12:06:23.431663 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.431914 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.432499 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.432024"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.432791 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.433137 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.433773 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.432024"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.433229"], ["created_at", "2019-10-14 19:06:23.433280"], ["updated_at", "2019-10-14 19:06:23.433280"]]
D, [2019-10-14T12:06:23.434083 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.434274 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.434540 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')[0m
D, [2019-10-14T12:06:23.434956 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.435359 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2[0m
D, [2019-10-14T12:06:23.435671 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.435770 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.436150 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 2]]
D, [2019-10-14T12:06:23.436439 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.436997 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  begin transaction
D, [2019-10-14T12:06:23.437091 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.437194 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.437458 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.438148 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.437586"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.438417 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.438797 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.439507 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.437586"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.438900"], ["created_at", "2019-10-14 19:06:23.438956"], ["updated_at", "2019-10-14 19:06:23.438956"]]
D, [2019-10-14T12:06:23.439839 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.440082 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.440670 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.440194"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.440929 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.441275 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.441910 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.440194"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.441367"], ["created_at", "2019-10-14 19:06:23.441418"], ["updated_at", "2019-10-14 19:06:23.441418"]]
D, [2019-10-14T12:06:23.442217 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.442404 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.442669 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')
D, [2019-10-14T12:06:23.443076 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.443466 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2
D, [2019-10-14T12:06:23.443790 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.443883 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.444260 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.444577 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.445106 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.445198 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.445300 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.445558 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.446268 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.445688"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.446535 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.446902 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.447593 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.445688"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.447006"], ["created_at", "2019-10-14 19:06:23.447059"], ["updated_at", "2019-10-14 19:06:23.447059"]]
D, [2019-10-14T12:06:23.447916 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.448155 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.448736 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.448268"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.448992 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.449332 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.449962 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.448268"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.449425"], ["created_at", "2019-10-14 19:06:23.449475"], ["updated_at", "2019-10-14 19:06:23.449475"]]
D, [2019-10-14T12:06:23.450267 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.450450 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.450708 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')[0m
D, [2019-10-14T12:06:23.451104 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.451493 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2[0m
D, [2019-10-14T12:06:23.451815 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.451907 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.452281 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.452606 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.453086 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.453194 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.453302 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.453560 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.454235 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.453687"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.454505 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.454870 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.455568 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.453687"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.454973"], ["created_at", "2019-10-14 19:06:23.455027"], ["updated_at", "2019-10-14 19:06:23.455027"]]
D, [2019-10-14T12:06:23.455889 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.456130 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.456714 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.456241"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.456971 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.457319 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.457956 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.456241"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.457410"], ["created_at", "2019-10-14 19:06:23.457461"], ["updated_at", "2019-10-14 19:06:23.457461"]]
D, [2019-10-14T12:06:23.458258 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.458455 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.458729 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')
D, [2019-10-14T12:06:23.459139 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.459530 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2
D, [2019-10-14T12:06:23.459851 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.459943 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.465906 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.466200 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.466745 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.466843 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.466976 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.467343 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.468192 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.467512"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.468490 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.468958 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.469721 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.467512"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.469078"], ["created_at", "2019-10-14 19:06:23.469142"], ["updated_at", "2019-10-14 19:06:23.469142"]]
D, [2019-10-14T12:06:23.470055 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.470309 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.470893 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.470424"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.471149 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.471485 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.472131 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.470424"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.471575"], ["created_at", "2019-10-14 19:06:23.471627"], ["updated_at", "2019-10-14 19:06:23.471627"]]
D, [2019-10-14T12:06:23.472439 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.472661 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.472949 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')[0m
D, [2019-10-14T12:06:23.473413 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.473856 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2[0m
D, [2019-10-14T12:06:23.474184 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.474276 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.474680 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.474988 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.475470 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.475560 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.475658 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.475929 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.476608 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.476061"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.476880 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.477253 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.477953 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.476061"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.477356"], ["created_at", "2019-10-14 19:06:23.477412"], ["updated_at", "2019-10-14 19:06:23.477412"]]
D, [2019-10-14T12:06:23.478263 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.478500 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.479075 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.478610"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.479328 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.479686 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.480328 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.478610"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.479778"], ["created_at", "2019-10-14 19:06:23.479829"], ["updated_at", "2019-10-14 19:06:23.479829"]]
D, [2019-10-14T12:06:23.480636 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.480827 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.481089 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')
D, [2019-10-14T12:06:23.481493 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.481888 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2
D, [2019-10-14T12:06:23.482201 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.482290 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.482996 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1[0m  [["id", 1]]
D, [2019-10-14T12:06:23.483244 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.483861 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.483961 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.484065 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.484400 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.485180 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.484561"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.485472 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.485970 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.486726 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.484561"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.486088"], ["created_at", "2019-10-14 19:06:23.486153"], ["updated_at", "2019-10-14 19:06:23.486153"]]
D, [2019-10-14T12:06:23.487054 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.487306 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.487915 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.487419"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.488176 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.488527 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.489169 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.487419"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.488621"], ["created_at", "2019-10-14 19:06:23.488673"], ["updated_at", "2019-10-14 19:06:23.488673"]]
D, [2019-10-14T12:06:23.489482 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.489693 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.489982 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')[0m
D, [2019-10-14T12:06:23.490440 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.490888 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2[0m
D, [2019-10-14T12:06:23.491219 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.491316 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.491733 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.492067 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.492640 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.492731 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.492860 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.493124 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.493814 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.493255"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.494093 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.494470 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.495252 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.493255"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.494572"], ["created_at", "2019-10-14 19:06:23.494630"], ["updated_at", "2019-10-14 19:06:23.494630"]]
D, [2019-10-14T12:06:23.495577 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.495832 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.496434 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.495947"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.496695 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.497042 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.497680 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.495947"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.497134"], ["created_at", "2019-10-14 19:06:23.497186"], ["updated_at", "2019-10-14 19:06:23.497186"]]
D, [2019-10-14T12:06:23.497987 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.498180 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.498449 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')
D, [2019-10-14T12:06:23.498850 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.499248 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2
D, [2019-10-14T12:06:23.499563 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.499653 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.500037 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.500330 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.500867 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.500957 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.501060 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.501317 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.502004 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.501447"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.502276 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.502690 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.503394 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.501447"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.502796"], ["created_at", "2019-10-14 19:06:23.502851"], ["updated_at", "2019-10-14 19:06:23.502851"]]
D, [2019-10-14T12:06:23.503744 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.503989 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.504580 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "old_worker"], ["version", "old version"], ["last_heartbeat_at", "2019-10-14 19:06:23.504101"], ["host_name", "mikejnuc"], ["label", "old_worker"]]
D, [2019-10-14T12:06:23.504841 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.505182 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.505820 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "old_worker"], ["locked_at", "2019-10-14 19:06:23.504101"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.505274"], ["created_at", "2019-10-14 19:06:23.505325"], ["updated_at", "2019-10-14 19:06:23.505325"]]
D, [2019-10-14T12:06:23.506134 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.506320 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.506593 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (version != 'current version')[0m
D, [2019-10-14T12:06:23.506998 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "old_worker"]]
D, [2019-10-14T12:06:23.507396 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "locked_at" = NULL, "locked_by" = NULL WHERE "delayed_jobs"."id" = 2[0m
D, [2019-10-14T12:06:23.507717 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.507810 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.508183 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.508484 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.509213 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.509308 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.509409 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.509687 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.510392 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.509828"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.510670 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.511054 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.511769 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.509828"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.511158"], ["created_at", "2019-10-14 19:06:23.511213"], ["updated_at", "2019-10-14 19:06:23.511213"]]
D, [2019-10-14T12:06:23.512087 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.512345 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.512911 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.512128"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.513171 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.513525 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.527541 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.512128"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.513615"], ["created_at", "2019-10-14 19:06:23.513665"], ["updated_at", "2019-10-14 19:06:23.513665"]]
D, [2019-10-14T12:06:23.528263 #20841] DEBUG -- :   [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.528867 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.529841 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.512128"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.529009"], ["created_at", "2019-10-14 19:06:23.529080"], ["updated_at", "2019-10-14 19:06:23.529080"]]
D, [2019-10-14T12:06:23.530169 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.530442 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.530751 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.530221')[0m
D, [2019-10-14T12:06:23.531252 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.532955 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.531604"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.531954"], ["id", 2]]
E, [2019-10-14T12:06:23.533348 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.534122 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.533393"], ["updated_at", "2019-10-14 19:06:23.533595"], ["id", 3]]
D, [2019-10-14T12:06:23.534703 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.534800 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.535084 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.535642 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.535748 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.535855 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.536146 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.536884 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.536296"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.537157 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.537558 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.538286 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.536296"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.537663"], ["created_at", "2019-10-14 19:06:23.537719"], ["updated_at", "2019-10-14 19:06:23.537719"]]
D, [2019-10-14T12:06:23.538608 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.538868 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.539429 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.538652"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.539691 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.540039 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.540687 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.538652"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.540131"], ["created_at", "2019-10-14 19:06:23.540181"], ["updated_at", "2019-10-14 19:06:23.540181"]]
D, [2019-10-14T12:06:23.541000 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.541361 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.541997 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.538652"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.541443"], ["created_at", "2019-10-14 19:06:23.541491"], ["updated_at", "2019-10-14 19:06:23.541491"]]
D, [2019-10-14T12:06:23.542312 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.542515 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.542798 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.542352')[0m
D, [2019-10-14T12:06:23.543226 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.544349 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.543499"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.543804"], ["id", 2]]
E, [2019-10-14T12:06:23.544706 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.545396 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.544742"], ["updated_at", "2019-10-14 19:06:23.544932"], ["id", 3]]
D, [2019-10-14T12:06:23.545963 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.546056 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.546495 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 3]]
D, [2019-10-14T12:06:23.546865 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.547779 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.547873 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.547974 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.548245 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.548952 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.548379"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.549220 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.549601 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.550310 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.548379"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.549704"], ["created_at", "2019-10-14 19:06:23.549759"], ["updated_at", "2019-10-14 19:06:23.549759"]]
D, [2019-10-14T12:06:23.550627 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.550878 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.551438 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.550668"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.551705 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.552055 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.552697 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.550668"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.552147"], ["created_at", "2019-10-14 19:06:23.552197"], ["updated_at", "2019-10-14 19:06:23.552197"]]
D, [2019-10-14T12:06:23.553010 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.553365 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.554002 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.550668"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.553448"], ["created_at", "2019-10-14 19:06:23.553497"], ["updated_at", "2019-10-14 19:06:23.553497"]]
D, [2019-10-14T12:06:23.554307 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.554518 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.554786 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.554347')
D, [2019-10-14T12:06:23.555202 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.556319 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.555475"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.555778"], ["id", 2]]
E, [2019-10-14T12:06:23.556675 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.557386 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.556712"], ["updated_at", "2019-10-14 19:06:23.556898"], ["id", 3]]
D, [2019-10-14T12:06:23.557923 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.558019 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.558409 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.558725 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.559238 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.559330 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.559430 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.559720 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.560445 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.559858"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.560713 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.561088 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.561792 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.559858"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.561190"], ["created_at", "2019-10-14 19:06:23.561245"], ["updated_at", "2019-10-14 19:06:23.561245"]]
D, [2019-10-14T12:06:23.562100 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.562355 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.562909 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.562141"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.563162 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.563503 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.564152 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.562141"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.563592"], ["created_at", "2019-10-14 19:06:23.563641"], ["updated_at", "2019-10-14 19:06:23.563641"]]
D, [2019-10-14T12:06:23.564460 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.564815 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.565441 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.562141"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.564897"], ["created_at", "2019-10-14 19:06:23.564945"], ["updated_at", "2019-10-14 19:06:23.564945"]]
D, [2019-10-14T12:06:23.565747 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.565949 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.566216 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.565786')[0m
D, [2019-10-14T12:06:23.566626 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.567721 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.566895"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.567181"], ["id", 2]]
E, [2019-10-14T12:06:23.568078 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.568760 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.568114"], ["updated_at", "2019-10-14 19:06:23.568300"], ["id", 3]]
D, [2019-10-14T12:06:23.569282 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.569375 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.570134 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.570403 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.570978 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.571076 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.571181 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.571520 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.572320 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.571691"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.572605 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.573099 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.573843 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.571691"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.573216"], ["created_at", "2019-10-14 19:06:23.573279"], ["updated_at", "2019-10-14 19:06:23.573279"]]
D, [2019-10-14T12:06:23.574167 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.574430 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.574990 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.574209"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.575243 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.575584 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.576226 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.574209"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.575681"], ["created_at", "2019-10-14 19:06:23.575733"], ["updated_at", "2019-10-14 19:06:23.575733"]]
D, [2019-10-14T12:06:23.576537 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.576900 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.577527 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.574209"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.576983"], ["created_at", "2019-10-14 19:06:23.577031"], ["updated_at", "2019-10-14 19:06:23.577031"]]
D, [2019-10-14T12:06:23.577836 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.578068 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.578352 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.577882')
D, [2019-10-14T12:06:23.578805 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.580013 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.579115"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.579425"], ["id", 2]]
E, [2019-10-14T12:06:23.580372 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.581101 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.580414"], ["updated_at", "2019-10-14 19:06:23.580634"], ["id", 3]]
D, [2019-10-14T12:06:23.581661 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.581757 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.582181 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 2]]
D, [2019-10-14T12:06:23.582503 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.583012 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.583103 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.583202 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.583470 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.584173 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.583602"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.584444 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.584832 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.585531 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.583602"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.584934"], ["created_at", "2019-10-14 19:06:23.584989"], ["updated_at", "2019-10-14 19:06:23.584989"]]
D, [2019-10-14T12:06:23.585846 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.586105 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.586657 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.585891"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.586909 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.587249 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.587891 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.585891"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.587339"], ["created_at", "2019-10-14 19:06:23.587388"], ["updated_at", "2019-10-14 19:06:23.587388"]]
D, [2019-10-14T12:06:23.588200 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.588560 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.589190 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.585891"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.588644"], ["created_at", "2019-10-14 19:06:23.588691"], ["updated_at", "2019-10-14 19:06:23.588691"]]
D, [2019-10-14T12:06:23.589494 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.589700 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.589972 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.589535')[0m
D, [2019-10-14T12:06:23.590381 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.591474 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.590652"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.590940"], ["id", 2]]
E, [2019-10-14T12:06:23.591834 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.592516 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.591871"], ["updated_at", "2019-10-14 19:06:23.592056"], ["id", 3]]
D, [2019-10-14T12:06:23.593046 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.593140 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.593529 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.593829 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.594343 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.594432 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.594532 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.594791 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.595488 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.594943"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.595764 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.596138 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.596835 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.594943"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.596241"], ["created_at", "2019-10-14 19:06:23.596295"], ["updated_at", "2019-10-14 19:06:23.596295"]]
D, [2019-10-14T12:06:23.597148 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.597400 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.597950 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.597189"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.598201 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.598541 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.599169 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.597189"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.598632"], ["created_at", "2019-10-14 19:06:23.598682"], ["updated_at", "2019-10-14 19:06:23.598682"]]
D, [2019-10-14T12:06:23.599476 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.599839 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.600470 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.597189"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.599923"], ["created_at", "2019-10-14 19:06:23.599971"], ["updated_at", "2019-10-14 19:06:23.599971"]]
D, [2019-10-14T12:06:23.600771 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.600973 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.601232 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.600811')
D, [2019-10-14T12:06:23.601639 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.602728 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.601911"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.602200"], ["id", 2]]
E, [2019-10-14T12:06:23.603075 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.603756 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.603110"], ["updated_at", "2019-10-14 19:06:23.603292"], ["id", 3]]
D, [2019-10-14T12:06:23.604277 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.604370 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.605127 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Exists (0.0ms)[0m  SELECT  1 AS one FROM "delayed_workers" WHERE "delayed_workers"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.605393 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.605973 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.606068 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.606169 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.606507 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.607287 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.606668"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.607571 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.608047 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.608802 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.606668"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.608166"], ["created_at", "2019-10-14 19:06:23.608229"], ["updated_at", "2019-10-14 19:06:23.608229"]]
D, [2019-10-14T12:06:23.609126 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.609396 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.609957 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.609169"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.610209 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.610554 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.611187 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.609169"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.610644"], ["created_at", "2019-10-14 19:06:23.610695"], ["updated_at", "2019-10-14 19:06:23.610695"]]
D, [2019-10-14T12:06:23.611499 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.611874 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.612509 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.609169"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.611960"], ["created_at", "2019-10-14 19:06:23.612008"], ["updated_at", "2019-10-14 19:06:23.612008"]]
D, [2019-10-14T12:06:23.612816 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.613051 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.613343 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.612862')[0m
D, [2019-10-14T12:06:23.613800 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.615006 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.614110"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.614423"], ["id", 2]]
E, [2019-10-14T12:06:23.615363 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.616064 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.615405"], ["updated_at", "2019-10-14 19:06:23.615592"], ["id", 3]]
D, [2019-10-14T12:06:23.616632 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.616727 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.617154 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 2]]
D, [2019-10-14T12:06:23.617476 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.618011 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.618100 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.618202 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.618471 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.619172 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.618603"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.619445 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.619842 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.620544 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.618603"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.619945"], ["created_at", "2019-10-14 19:06:23.619999"], ["updated_at", "2019-10-14 19:06:23.619999"]]
D, [2019-10-14T12:06:23.620866 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.621122 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.621686 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.620908"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.621935 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.622283 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.622913 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.620908"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.622373"], ["created_at", "2019-10-14 19:06:23.622423"], ["updated_at", "2019-10-14 19:06:23.622423"]]
D, [2019-10-14T12:06:23.623221 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.623578 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.624220 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.620908"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.623659"], ["created_at", "2019-10-14 19:06:23.623716"], ["updated_at", "2019-10-14 19:06:23.623716"]]
D, [2019-10-14T12:06:23.624522 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.624729 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.625000 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.624561')
D, [2019-10-14T12:06:23.625418 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.626521 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.625685"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.625974"], ["id", 2]]
E, [2019-10-14T12:06:23.626869 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.627556 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.626905"], ["updated_at", "2019-10-14 19:06:23.627091"], ["id", 3]]
D, [2019-10-14T12:06:23.628104 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.628201 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.628589 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 1]]
D, [2019-10-14T12:06:23.639733 #20841] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.640232 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.640328 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.640427 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.640718 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.641478 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.640868"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.641768 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.642157 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.642888 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.640868"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.642262"], ["created_at", "2019-10-14 19:06:23.642317"], ["updated_at", "2019-10-14 19:06:23.642317"]]
D, [2019-10-14T12:06:23.643216 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.643471 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.644043 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.643255"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.644308 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.644656 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.645319 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.643255"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.644747"], ["created_at", "2019-10-14 19:06:23.644798"], ["updated_at", "2019-10-14 19:06:23.644798"]]
D, [2019-10-14T12:06:23.645626 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.645992 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.646643 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.643255"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.646076"], ["created_at", "2019-10-14 19:06:23.646124"], ["updated_at", "2019-10-14 19:06:23.646124"]]
D, [2019-10-14T12:06:23.646949 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.647163 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.647431 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.646989')[0m
D, [2019-10-14T12:06:23.647875 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.649006 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.648151"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.648443"], ["id", 2]]
E, [2019-10-14T12:06:23.649374 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.650092 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.649410"], ["updated_at", "2019-10-14 19:06:23.649598"], ["id", 3]]
D, [2019-10-14T12:06:23.650811 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.650929 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.651481 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 1]]
D, [2019-10-14T12:06:23.651890 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
D, [2019-10-14T12:06:23.652485 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.652582 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  commit transaction
D, [2019-10-14T12:06:23.652686 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
D, [2019-10-14T12:06:23.653031 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.653941 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)[0m  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.653192"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.654280 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.654786 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.655710 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.653192"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.654914"], ["created_at", "2019-10-14 19:06:23.654981"], ["updated_at", "2019-10-14 19:06:23.654981"]]
D, [2019-10-14T12:06:23.656111 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.656456 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.657095 #20841] DEBUG -- :   [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)[0m  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.656163"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.657366 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.657795 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.658499 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.656163"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.657909"], ["created_at", "2019-10-14 19:06:23.657969"], ["updated_at", "2019-10-14 19:06:23.657969"]]
D, [2019-10-14T12:06:23.658834 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.659206 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.659880 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.656163"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.659291"], ["created_at", "2019-10-14 19:06:23.659340"], ["updated_at", "2019-10-14 19:06:23.659340"]]
D, [2019-10-14T12:06:23.660187 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.660450 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.660749 #20841] DEBUG -- :   [1m[35mDelayed::Heartbeat::Worker Load (0.1ms)[0m  SELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.660245')
D, [2019-10-14T12:06:23.661372 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.1ms)[0m  [1mSELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL[0m  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.662787 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.661758"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.662137"], ["id", 2]]
E, [2019-10-14T12:06:23.663183 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.664178 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.663225"], ["updated_at", "2019-10-14 19:06:23.663451"], ["id", 3]]
D, [2019-10-14T12:06:23.664899 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  DELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2
D, [2019-10-14T12:06:23.665013 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.665548 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  SELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1  [["id", 2]]
D, [2019-10-14T12:06:23.665955 #20841] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
D, [2019-10-14T12:06:23.666553 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.666649 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
D, [2019-10-14T12:06:23.666753 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  begin transaction
D, [2019-10-14T12:06:23.667119 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.667921 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_workers" ("name", "version", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?, ?)  [["name", "active_worker"], ["version", "current version"], ["last_heartbeat_at", "2019-10-14 19:06:23.667278"], ["host_name", "mikejnuc"], ["label", "active_worker"]]
D, [2019-10-14T12:06:23.668216 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.668657 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.669424 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "active_worker"], ["locked_at", "2019-10-14 19:06:23.667278"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.668772"], ["created_at", "2019-10-14 19:06:23.668834"], ["updated_at", "2019-10-14 19:06:23.668834"]]
D, [2019-10-14T12:06:23.669751 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.670026 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.670595 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  INSERT INTO "delayed_workers" ("name", "last_heartbeat_at", "host_name", "label") VALUES (?, ?, ?, ?)  [["name", "dead_worker"], ["last_heartbeat_at", "2019-10-14 19:03:22.669793"], ["host_name", "mikejnuc"], ["label", "dead_worker"]]
D, [2019-10-14T12:06:23.670878 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.671251 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.671988 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.669793"], ["handler", "--- !ruby/object:TestJob {}\n"], ["run_at", "2019-10-14 19:06:23.671347"], ["created_at", "2019-10-14 19:06:23.671402"], ["updated_at", "2019-10-14 19:06:23.671402"]]
D, [2019-10-14T12:06:23.672350 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.672743 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.673475 #20841] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  INSERT INTO "delayed_jobs" ("locked_by", "locked_at", "handler", "attempts", "run_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["locked_by", "dead_worker"], ["locked_at", "2019-10-14 19:03:22.669793"], ["handler", "--- !ruby/object:TestJobWithCallbacks {}\n"], ["attempts", 4], ["run_at", "2019-10-14 19:06:23.672833"], ["created_at", "2019-10-14 19:06:23.672886"], ["updated_at", "2019-10-14 19:06:23.672886"]]
D, [2019-10-14T12:06:23.673820 #20841] DEBUG -- :   [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
D, [2019-10-14T12:06:23.674086 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.674380 #20841] DEBUG -- :   [1m[36mDelayed::Heartbeat::Worker Load (0.1ms)[0m  [1mSELECT "delayed_workers".* FROM "delayed_workers" WHERE (last_heartbeat_at < '2019-10-14 19:03:23.673878')[0m
D, [2019-10-14T12:06:23.675039 #20841] DEBUG -- :   [1m[35mDelayed::Backend::ActiveRecord::Job Load (0.1ms)[0m  SELECT "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."locked_by" = ? AND "delayed_jobs"."failed_at" IS NULL  [["locked_by", "dead_worker"]]
D, [2019-10-14T12:06:23.676564 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mUPDATE "delayed_jobs" SET "attempts" = ?, "run_at" = ?, "locked_at" = ?, "locked_by" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?[0m  [["attempts", 1], ["run_at", "2019-10-14 19:06:29.675446"], ["locked_at", nil], ["locked_by", nil], ["updated_at", "2019-10-14 19:06:23.675868"], ["id", 2]]
E, [2019-10-14T12:06:23.676979 #20841] ERROR -- : 2019-10-14T12:06:23-0700: [Worker(host:mikejnuc pid:20841)] Job TestJobWithCallbacks (id=3) FAILED permanently because of 5 consecutive failures
D, [2019-10-14T12:06:23.677703 #20841] DEBUG -- :   [1m[35mSQL (0.0ms)[0m  UPDATE "delayed_jobs" SET "attempts" = ?, "failed_at" = ?, "updated_at" = ? WHERE "delayed_jobs"."id" = ?  [["attempts", 5], ["failed_at", "2019-10-14 19:06:23.677020"], ["updated_at", "2019-10-14 19:06:23.677223"], ["id", 3]]
D, [2019-10-14T12:06:23.678328 #20841] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "delayed_workers" WHERE "delayed_workers"."id" = 2[0m
D, [2019-10-14T12:06:23.678429 #20841] DEBUG -- :   [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2019-10-14T12:06:23.678880 #20841] DEBUG -- :   [1m[36mDelayed::Backend::ActiveRecord::Job Load (0.0ms)[0m  [1mSELECT  "delayed_jobs".* FROM "delayed_jobs" WHERE "delayed_jobs"."id" = ? LIMIT 1[0m  [["id", 1]]
D, [2019-10-14T12:06:23.679236 #20841] DEBUG -- :   [1m[35m (0.1ms)[0m  rollback transaction
